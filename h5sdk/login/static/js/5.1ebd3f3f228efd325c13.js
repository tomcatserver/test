webpackJsonp([5],{409:function(t,s,e){"use strict";function i(t){e(432)}Object.defineProperty(s,"__esModule",{value:!0});var o=e(422),a=e(433),n=e(110),c=i,r=n(o.a,a.a,!1,c,null,null);s.default=r.exports},422:function(t,s,e){"use strict";var i=e(159),o=["163.com","vip.163.com","188.com","126.com","vip.126.com","yeah.net","sohu.com","tom.com","vip.tom.com","sina.com","sina.cn","vip.sina.com","2008.sina.com","yahoo.com.cn","yahoo.cn","qq.com","vip.qq.com","foxmail.com","gmail.com","21cn.com","21cn.net","hotmail.com","live.cn","live.com","sogou.com","eyou.com","vip.eyou.com","139.com","189.cn","wo.com.cn","263.net","263.net.cn","x263.net","hexun.com","shangmail.com"],a=["http://mail.163.com","http://vip.163.com/","http://mail.188.com/","http://mail.126.com","http://vip.126.com/","http://mail.yeah.net","http://mail.sohu.com/","http://mail.tom.com/","http://vip.tom.com/","http://mail.sina.com.cn/","http://mail.sina.com.cn/","http://vip.sina.com.cn/","http://mail.2008.sina.com.cn/","http://mail.cn.yahoo.com/","http://mail.cn.yahoo.com/","http://mail.qq.com","http://mail.qq.com","http://mail.qq.com","http://mail.google.com/","http://mail.21cn.com/","http://mail.21cn.com/net/","http://www.hotmail.com/","http://www.hotmail.com/","http://www.hotmail.com/","http://mail.sogou.com/","http://www.eyou.com/","http://vip.eyou.com/","http://mail.10086.cn/","http://www.189.cn/webmail/","http://mail.wo.com.cn/smsmail/login.html","http://www.263.net/","http://www.263.net/","http://www.263.net/","http://mail.hexun.com/","http://www.shangmail.com/index"];s.a={name:"findPasswrod",data:function(){return{currentPage:0,showMethod:!1,showService:!1,userName:"",sendPlatform:-1,hasEmail:0,hasMobile:0,email:"",mobile:"",sUser:{userName:"",imgCode:"",tips:"",sCodeSrc:"",sCodeIdentity:""},sChange:{title:"",imgCode:"",tips:"",mobiCode:"",sCodeSrc:"",sCodeIdentity:"",isGetCode:!1,disableGetCode:!1,password:"",chkPassword:"",passwordShow:!1,chkPasswordShow:!1,isShowImgCode:!1,isInValidTime:0},countDown:60}},computed:{sUserDisable:function(){return 0==this.sUser.userName.length||0==this.sUser.imgCode.length},sChangeDisable:function(){return 0==this.sChange.mobiCode.length||0==this.sChange.password.length||0==this.sChange.chkPassword.length},getCodeBtnText:function(){return this.sChange.isGetCode?"获取短信验证码":0==this.countDown?"重发":"验证码已发送  "+this.countDown+"s"},sUserSrc:function(){return this.sUser.sCodeSrc?"data:image/jpg;base64,"+this.sUser.sCodeSrc:""},sChangeSrc:function(){return this.sChange.sCodeSrc?"data:image/jpg;base64,"+this.sChange.sCodeSrc:""},isApptag:function(){return common.isApp()}},created:function(){common.setPageTitle("1药网_找回密码"),this.getCode(1),this.sUser.userName=this.$route.query.userName||""},methods:{goAsk:function(){window.openCustomerServiceCenter()},quickLogin:function(){common.isApp()?jsBridge.shutDown({},function(t){}):this.$router.push({path:"/quickLogin/",query:{user:this.mobile}})},clearField:function(t,s){t[s]=""},focusField:function(t,s){this.$set(t,s,!0)},blurField:function(t,s){var e=this;setTimeout(function(){e.$set(t,s,!1)},100)},getCode:function(t){var s=this;i.c.http({method:"get",url:"xpassport/getPicCode"}).then(function(e){var i=e.body.data;if(console.log(i),i)switch(t){case 1:s.sUser.sCodeSrc=i.imgsrc,s.sUser.sCodeIdentity=i.identity;break;case 2:s.sChange.sCodeSrc=i.imgsrc,s.sChange.sCodeIdentity=i.identity}})},checkUserName:function(){var t=this;if(this.sUser.tips="",0==this.sUser.userName.length)return void(this.sUser.tips="请输入您的手机号/邮箱/用户名");if(0==this.sUser.imgCode.length)return void(this.sUser.tips="请输入图片验证码");var s={codekey:this.sUser.sCodeIdentity,piccode:this.sUser.imgCode,username:this.sUser.userName,type:1};i.c.http({method:"post",url:"xpassport/userValidation",params:s}).then(function(s){var e=s.body.rtn_code;if(e)if(0==e){var i=s.body.data;t.userName=t.sUser.userName,t.hasMobile=i.hasMobile?i.hasMobile:0,t.mobile=i.mobile,t.hasEmail=i.hasEmail?i.hasEmail:0,t.email=i.email,t.sendPlatform=i.sendPlatform,t.showNextStep()}else t.sUser.tips=s.body.rtn_msg}),this.getCode(1)},getMobiCode:function(t){var s=this;if(this.sChange.tips="",this.sChange.mobiCode="",!this.sChange.isGetCode&&0==this.countDown)return this.sChange.isShowImgCode=!0,void(this.sChange.isGetCode=!0);var e={identity:this.sChange.sCodeIdentity,code:this.sChange.imgCode,mobile:this.mobile,type:2};i.c.http({method:"post",url:"xpassport/sendSms",params:e}).then(function(t){var e=t.body.rtn_code;e&&(0==e?(s.sChange.isGetCode=!1,s.countDown=60,s.sChange.disableGetCode=!1,s.sChange.title=s.mobile,s.countMobileCode(s.$refs.getCodeBtn)):(s.sChange.imgCode="",s.sChange.tips=t.body.rtn_msg,s.getCode(2)))})},changePassword:function(){var t=this;if(this.sChange.tips="",0==this.sChange.password.length)return void(this.sChange.tips="请输入新密码");if(0==this.sChange.chkPassword.length)return void(this.sChange.tips="请再次输入新密码");if(this.sChange.password!=this.sChange.chkPassword)return void(this.sChange.tips="两次输入的新密码不匹配");var s={smscode:this.sChange.mobiCode,mobile:this.mobile,password:encodeURIComponent(this.sChange.password)};i.c.http({method:"post",url:"xpassport/updatePasswordByPhone",params:s}).then(function(s){var e=s.body.rtn_code;e&&(0==e?(common.msgShow("密码修改成功!"),common.isApp()?setTimeout(function(){jsBridge.shutDown({},function(t){})},3e3):setTimeout(function(){location.href="//m.111.com.cn/yyw/wap/login/#/?returnUrl="+encodeURIComponent("//m.111.com.cn/yyw/wap/personalcenter/#/")},3e3)):t.sChange.tips=s.body.rtn_msg)})},sendEmail:function(){var t=this,s={bindemail:this.email};i.c.http({method:"post",url:"xpassport/sendPwdByEmail",params:s}).then(function(s){var e=s.body.rtn_code;e&&(0==e?t.currentPage=3:common.msgShow(s.body.rtn_msg))})},showNextStep:function(){switch(this.sendPlatform){case 1:this.currentPage=3;break;case 2:this.currentPage=2,this.sChange.title=this.mobile,this.$nextTick(function(){this.countMobileCode(this.$refs.getCodeBtn)});break;case 3:common.isApp()?this.currentPage=1:this.$router.push("/findPassword/noMobileAndMail")}},toEmailPage:function(){this.sendEmail()},toTelCodePage:function(){this.currentPage=2},toEmailLoginPage:function(){for(var t=this.email.toLowerCase(),s="about:blank",e=0;e<o.length;e++)if(t.indexOf(o[e])>-1){s=a[e];break}location.href=s},showServiceDialog:function(t){this.showService=t},showMethodDialog:function(t){this.showMethod=t},countMobileCode:function(t){var s=this;setTimeout(function(){if(0==s.countDown)return s.sChange.disableGetCode=!1,s.sChange.isInValidTime++,void s.getCode(2);s.sChange.disableGetCode=!0,s.countDown--,s.countMobileCode(t)},1e3)},onPicCodeInput:function(){this.sChange.isGetCode||(this.sChange.disableGetCode=!(this.sChange.imgCode.length>0))},showPassword:function(t){0==t?this.sChange.passwordShow=!this.sChange.passwordShow:1==t&&(this.sChange.chkPasswordShow=!this.sChange.chkPasswordShow)},goBackClick:function(){common.isApp()?jsBridge.shutDown({},function(t){}):history.go(-1)},telclick:function(){jsBridge.call4Phone({phoneNumber:"4000070958",tel:"4000070958"},function(t){})}},filters:{toEmailHref:function(t){}}}},432:function(t,s){},433:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("header",{staticClass:"bar bar_nav"},[e("a",{staticClass:"top_icon icon_back fl",attrs:{href:"javascript:;"},on:{click:t.goBackClick}},[e("i",{staticClass:"icon iconfont icon_leftarrow"})]),t._v(" "),e("div",{staticClass:"top_title"},[t._v("找回密码")])]),t._v(" "),0==t.currentPage?e("div",{staticClass:"content login_page"},[e("div",{staticClass:"item_control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sUser.userName,expression:"sUser.userName"}],staticClass:"item_input",attrs:{type:"text",placeholder:"请输入您的手机号/邮箱/用户名",autocomplete:"off"},domProps:{value:t.sUser.userName},on:{focus:function(s){t.focusField(t.sUser,"userNameActive")},blur:function(s){t.blurField(t.sUser,"userNameActive")},input:function(s){s.target.composing||t.$set(t.sUser,"userName",s.target.value)}}}),t._v(" "),t.sUser.userNameActive&&t.sUser.userName?e("i",{staticClass:"icon_clear",staticStyle:{display:"block"},on:{click:function(s){t.clearField(t.sUser,"userName")}}}):t._e()]),t._v(" "),e("div",{staticClass:"item_control",attrs:{id:"item_code"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sUser.imgCode,expression:"sUser.imgCode"}],staticClass:"item_input img_code",attrs:{type:"text",maxlength:"4",placeholder:"图片验证码",autocomplete:"off"},domProps:{value:t.sUser.imgCode},on:{focus:function(s){t.focusField(t.sUser,"imgCodeActive")},blur:function(s){t.blurField(t.sUser,"imgCodeActive")},input:function(s){s.target.composing||t.$set(t.sUser,"imgCode",s.target.value)}}}),t._v(" "),t.sUser.imgCodeActive&&t.sUser.imgCode?e("i",{staticClass:"icon_clear",staticStyle:{display:"block"},on:{click:function(s){t.clearField(t.sUser,"imgCode")}}}):t._e(),t._v(" "),e("div",{staticClass:"code_box code_text"},[e("img",{attrs:{src:t.sUserSrc}}),t._v(" "),e("div",{staticClass:"change_code",on:{click:function(s){t.getCode(1)}}},[t._v("换一张")])])]),t._v(" "),t.sUser.tips?e("div",{staticClass:"item_tips"},[e("p",[t._v(t._s(t.sUser.tips))])]):t._e(),t._v(" "),e("button",{staticClass:"btn_default btn_red btn_block mt20",attrs:{id:"btn_next",disabled:t.sUserDisable},on:{click:t.checkUserName}},[t._v("下一步")]),t._v(" "),e("div",{staticClass:"item_box t_c"},[e("p",[t._v("遇到问题？请\n\t\t\t\t"),e("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.showServiceDialog(!0)}}},[t._v("联系客服")])])])]):2==t.currentPage?e("div",{staticClass:"content login_page"},[e("div",{staticClass:"item_control"},[t._v(t._s(t.sChange.title))]),t._v(" "),t.sChange.isShowImgCode?e("div",{staticClass:"item_control",attrs:{id:"item_code"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sChange.imgCode,expression:"sChange.imgCode"}],staticClass:"item_input img_code",attrs:{id:"img_code",type:"text",maxlength:"4",placeholder:"图片验证码",autocomplete:"off"},domProps:{value:t.sChange.imgCode},on:{keyup:t.onPicCodeInput,focus:function(s){t.focusField(t.sChange,"imgCodeActive")},blur:function(s){t.blurField(t.sChange,"imgCodeActive")},input:function(s){s.target.composing||t.$set(t.sChange,"imgCode",s.target.value)}}}),t._v(" "),t.sChange.imgCodeActive&&t.sChange.imgCode?e("i",{staticClass:"icon_clear",staticStyle:{display:"block"},on:{click:function(s){t.clearField(t.sChange,"imgCode")}}}):t._e(),t._v(" "),e("div",{staticClass:"code_box code_text"},[e("img",{attrs:{src:t.sChangeSrc}}),t._v(" "),e("div",{staticClass:"change_code",on:{click:function(s){t.getCode(2)}}},[t._v("换一张")])])]):t._e(),t._v(" "),e("div",{staticClass:"item_control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sChange.mobiCode,expression:"sChange.mobiCode"}],staticClass:"item_input msg_code",attrs:{type:"text",placeholder:"手机验证码",autocomplete:"off"},domProps:{value:t.sChange.mobiCode},on:{focus:function(s){t.focusField(t.sChange,"mobiCodeActive")},blur:function(s){t.blurField(t.sChange,"mobiCodeActive")},input:function(s){s.target.composing||t.$set(t.sChange,"mobiCode",s.target.value)}}}),t._v(" "),t.sChange.mobiCodeActive&&t.sChange.mobiCode?e("i",{staticClass:"icon_clear",staticStyle:{display:"block"},on:{click:function(s){t.clearField(t.sChange,"mobiCode")}}}):t._e(),t._v(" "),e("button",{ref:"getCodeBtn",staticClass:"btn_code w100",attrs:{disabled:t.sChange.disableGetCode},on:{click:t.getMobiCode}},[t._v(t._s(t.getCodeBtnText))])]),t._v(" "),e("div",{staticClass:"item_control"},[t.sChange.passwordShow?e("input",{directives:[{name:"model",rawName:"v-model",value:t.sChange.password,expression:"sChange.password"}],staticClass:"item_input item_password",attrs:{type:"text",placeholder:"新密码",autocomplete:"off"},domProps:{value:t.sChange.password},on:{focus:function(s){t.focusField(t.sChange,"passwordActive")},blur:function(s){t.blurField(t.sChange,"passwordActive")},input:function(s){s.target.composing||t.$set(t.sChange,"password",s.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.sChange.password,expression:"sChange.password"}],staticClass:"item_input item_password",attrs:{type:"password",placeholder:"新密码",autocomplete:"new-password"},domProps:{value:t.sChange.password},on:{focus:function(s){t.focusField(t.sChange,"passwordActive")},blur:function(s){t.blurField(t.sChange,"passwordActive")},input:function(s){s.target.composing||t.$set(t.sChange,"password",s.target.value)}}}),t._v(" "),t.sChange.passwordActive&&t.sChange.password?e("i",{staticClass:"icon_clear",staticStyle:{display:"block"},on:{click:function(s){t.clearField(t.sChange,"password")}}}):t._e(),t._v(" "),e("div",{staticClass:"checkbtn",class:{active:t.sChange.passwordShow},on:{click:function(s){t.showPassword(0)}}})]),t._v(" "),e("div",{staticClass:"item_control"},[t.sChange.chkPasswordShow?e("input",{directives:[{name:"model",rawName:"v-model",value:t.sChange.chkPassword,expression:"sChange.chkPassword"}],staticClass:"item_input item_password",attrs:{type:"text",placeholder:"确认新密码",autocomplete:"off"},domProps:{value:t.sChange.chkPassword},on:{focus:function(s){t.focusField(t.sChange,"chkPasswordActive")},blur:function(s){t.blurField(t.sChange,"chkPasswordActive")},input:function(s){s.target.composing||t.$set(t.sChange,"chkPassword",s.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.sChange.chkPassword,expression:"sChange.chkPassword"}],staticClass:"item_input item_password",attrs:{type:"password",placeholder:"确认新密码",autocomplete:"off"},domProps:{value:t.sChange.chkPassword},on:{focus:function(s){t.focusField(t.sChange,"chkPasswordActive")},blur:function(s){t.blurField(t.sChange,"chkPasswordActive")},input:function(s){s.target.composing||t.$set(t.sChange,"chkPassword",s.target.value)}}}),t._v(" "),t.sChange.chkPasswordActive&&t.sChange.chkPassword?e("i",{staticClass:"icon_clear",staticStyle:{display:"block"},on:{click:function(s){t.clearField(t.sChange,"chkPassword")}}}):t._e(),t._v(" "),e("div",{staticClass:"checkbtn",class:{active:t.sChange.chkPasswordShow},on:{click:function(s){t.showPassword(1)}}})]),t._v(" "),t.sChange.tips?e("div",{staticClass:"item_tips"},[e("p",[t._v(t._s(t.sChange.tips))])]):t._e(),t._v(" "),e("button",{staticClass:"btn_default btn_red btn_block mt20",attrs:{id:"btn_next",disabled:t.sChangeDisable},on:{click:t.changePassword}},[t._v("确定")]),t._v(" "),0==t.hasEmail?e("div",{staticClass:"item_box t_c"},[e("p",[t._v("密码太长不想记？试试\n\t\t\t\t"),e("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.quickLogin()}}},[t._v("快速登录>>")])])]):t._e(),t._v(" "),1!=t.hasEmail||t.sChange.isInValidTime?t._e():e("div",{staticClass:"item_box t_c"},[e("p",[t._v("这个手机号我不用了，试试\n\t\t\t\t"),e("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.toEmailPage()}}},[t._v("邮箱找回>>")])])]),t._v(" "),1==t.hasEmail&&t.sChange.isInValidTime?e("div",{staticClass:"item_box t_c"},[e("p",[t._v("遇到问题？请\n\t\t\t\t"),e("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.showServiceDialog(!0)}}},[t._v("联系客服")])])]):t._e()]):3==t.currentPage?e("div",{staticClass:"content login_page"},[e("div",{staticClass:"list_block"},[e("div",{staticClass:"list_top"},[t._v("已向绑定邮箱"+t._s(t.email)+"发送验证邮件")]),t._v(" "),e("div",{staticClass:"list_box"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.toEmailLoginPage()}}},[t._v("进入邮箱验证")])])]),t._v(" "),e("div",{staticClass:"item_box t_c"},[e("p",[t._v("遇到问题？请\n\t\t\t\t"),e("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.showServiceDialog(!0)}}},[t._v("联系客服")])])])]):1==t.currentPage?e("div",{staticClass:"content login_page"},[e("div",{staticClass:"list_block"},[e("div",{staticClass:"list_top"},[t._v("由于您未完成邮箱或手机认证，请联系客服找回密码")]),t._v(" "),e("div",{staticClass:"list_box"},[e("a",{attrs:{href:"javascript:NTKF.im_openInPageChat('yy_1000_1432121914627');"}},[t._v("在线咨询")]),t._v(" "),t.isApptag?e("div",{staticClass:"btn_white",on:{click:t.telclick}},[t._v("拨打电话")]):e("a",{staticClass:"btn_white",attrs:{href:"tel:4000070958"}},[t._v("拨打电话")])])])]):t._e(),t._v(" "),t.showMethod?e("div",{staticClass:"pop_pop show",attrs:{id:"pop_method"},on:{click:function(s){t.showMethodDialog(!1)}}},[e("div",{staticClass:"pop_box"},[e("div",{staticClass:"pop_top"},[t._v("请选择找回方式")]),t._v(" "),e("div",{staticClass:"pop_content"},[e("a",{staticClass:"btn_advisory",attrs:{href:"javascript:;"},on:{click:function(s){t.toTelCodePage()}}},[t._v("通过手机验证码找回")]),t._v(" "),e("a",{staticClass:"btn_tel",attrs:{href:"javascript:;"},on:{click:function(s){t.toEmailPage()}}},[t._v("通过邮箱找回")])])])]):t._e(),t._v(" "),t.showService?e("div",{staticClass:"pop_pop show",attrs:{id:"pop_service"},on:{click:function(s){t.showServiceDialog(!1)}}},[e("div",{staticClass:"pop_box"},[e("div",{staticClass:"pop_top"},[t._v("联系客服")]),t._v(" "),e("div",{staticClass:"pop_content"},[e("a",{staticClass:"btn_advisory",on:{click:function(s){return s.stopPropagation(),t.goAsk(s)}}},[t._v("在线咨询")]),t._v(" "),t.isApptag?e("div",{staticClass:"btn_tel",on:{click:t.telclick}},[t._v("拨打电话")]):e("a",{staticClass:"btn_tel",attrs:{href:"tel:4000070958"}},[t._v("拨打电话")])])])]):t._e()])},o=[],a={render:i,staticRenderFns:o};s.a=a}});