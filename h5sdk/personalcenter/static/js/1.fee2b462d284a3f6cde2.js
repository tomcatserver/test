webpackJsonp([1,32],{437:function(e,t,i){i(555);var n=i(119)(i(483),i(633),null,null);e.exports=n.exports},462:function(e,t,i){"use strict";var n="@@clickoutsideContext";t.a={bind:function(e,t,i){var r=function(t){i.context&&!e.contains(t.target)&&i.context[e[n].methodName]()};e[n]={documentHandler:r,methodName:t.expression,arg:t.arg||"click"},document.addEventListener(e[n].arg,r)},update:function(e,t){e[n].methodName=t.expression},unbind:function(e){document.removeEventListener(e[n].arg,e[n].documentHandler)},install:function(e){e.directive("clickoutside",{bind:this.bind,unbind:this.unbind})}}},465:function(e,t,i){var n=i(23),r=i(16),o=i(121),a=i(466),s=i(46).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},466:function(e,t,i){t.f=i(19)},474:function(e,t,i){var n=i(186),r=i(123).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},483:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(511),r=i.n(n),o=i(77),a=i(462),s=i(508);t.default={name:"certificateNew",data:function(){return{userName:"",idCard:"",userNameActive:!1,idCardActive:!1,identityobverseimg:"",identityreverseimg:"",showAlert:!1,alertText:null}},directives:{Clickoutside:a.a},computed:{btnDisabled:function(){return!this.userName||!this.idCard}},created:function(){common.setPageTitle("1药网_证件管理");var e=encodeURIComponent("//m.111.com.cn/yyw/wap/personalcenter/#/certificateNew"),t=this;common.isLogin(function(i){t.isLogin=i,i||(window.location.href="//m.111.com.cn/yyw/wap/login/#/?returnUrl="+e)})},methods:{userNameCloseActive:function(){this.userNameActive=!1},idCardCloseActive:function(){this.idCardActive=!1},goback:function(){ywPoint.go("centercertificatemanage_topBar_0_Back_0_0"),this.$router.back()},uploadImgClick:function(){this.$refs.handleFileChange.click()},handleFile:function(e){var t=this,i=e.target.files[0],n=(this.flag,0);if(i){var o=new FormData;o.append("file",i),o.append("tag","wap/certificate/upload");var a=common.cookie("UserInfo")||"UserId=",c=this.getQueryName("UserId",a),l="";l=""==c||!c||(void 0===c?"undefined":r()(c))?s.generate()+".jpg":c+(new Date).getTime()+".jpg",o.append("filename",l);var u="//upload.111.com.cn/uploadfile?t="+(new Date).getTime();common.loading(),this.$http.post(u,o).then(function(i){layer.closeAll();var r=i.body;if(r.result){e.target.value=null;var o="//p1.maiyaole.com/";0==n?t.identityobverseimg=o+r.url:1==n&&(t.identityreverseimg=o+r.url)}else common.msgShow("上传失败！图片大小不能超过5M")},function(i){common.msgShow("图片上传失败！"),0==n?(t.identityobverseimg="",e.target.value=null):1==n&&(t.identityreverseimg="",e.target.value=null)})}},handleFileChange:function(e){var t=this,i=e.target.files[0],n=(this.flag,1);if(i){var r=new FormData;r.append("file",i),r.append("tag","wap/certificate/upload");var o=common.cookie("UserInfo")||"UserId=",a=this.getQueryName("UserId",o),c="";c=""!=a&&a?a+(new Date).getTime()+".jpg":s.generate()+".jpg",r.append("filename",c);var l="//upload.111.com.cn/uploadfile?t="+(new Date).getTime();common.loading(),this.$http.post(l,r).then(function(i){layer.closeAll();var r=i.body;if(r.result){e.target.value=null;var o="//p1.maiyaole.com/";0==n?t.identityobverseimg=o+r.url:1==n&&(t.identityreverseimg=o+r.url)}else common.msgShow("上传失败！图片大小不能超过5M")},function(i){common.msgShow("图片上传失败！"),0==n?(t.identityobverseimg="",e.target.value=null):1==n&&(t.identityreverseimg="",e.target.value=null)})}},saveInfo:function(){if(ywPoint.go("centercertificatemanage_0_0_saveButton_0_0"),this.validName(this.userName),!this.validName(this.userName))return!1;if(this.validCid(this.idCard),!this.validCid(this.idCard))return!1;if(""==this.identityobverseimg)return common.msgShow("请上传身份证正面照片"),!1;if(""==this.identityreverseimg)return common.msgShow("请上传身份证反面照片"),!1;var e={identityCard:this.idCard,identityName:encodeURIComponent(this.userName),identityobverseimg:this.identityobverseimg,identityreverseimg:this.identityreverseimg};o.c.http({showLoad:!1,method:"get",urlPrefix:"dev",noNetwork:!1,url:"customer/saveIdCard",params:e,_timeout:15e3}).then(function(e){layer.closeAll();var t=e.body;t.data?(common.msgShow("保存成功！"),setTimeout(function(){window.location.replace("//m.111.com.cn/yyw/wap/personalcenter/#/certificateM")},500)):1*t.rtn_code==2?window.location.href="//m.111.com.cn/yyw/wap/login/index.html?returnUrl="+encodeURIComponent("//m.111.com.cn/yyw/wap/personalcenter/#/accountCenter")+"&isUseful=1":""!=t.rtn_tip?common.msgShow(t.rtn_tip):common.msgShow(t.rtn_msg)},function(e){console.log("failed net: "+e)})},validName:function(e){var t=/^([\u4E00-\uFA29])+$/;return""==e||null==e?(this.showAlert=!0,this.alertText="请输入收货人姓名",!1):e.length>6?(this.showAlert=!0,this.alertText="请输入收货人姓名，不超过6个字",!1):t.test(e)?(this.showAlert=!1,this.alertText="",!0):(this.showAlert=!0,this.alertText="收货人姓名只能包含汉字",!1)},validCid:function(e){var t=null;if(null==e||""==e)return this.showAlert=!0,this.alertText="请输入身份证号码",!1;if(15==e.length){if(t=/^[0-9]+$/,!t.test(e))return this.showAlert=!0,this.alertText="请输入正确的身份证号码！15位居民身份证号码应由纯数字构成",!1}else{if(18!=e.length)return this.showAlert=!0,this.alertText="请输入正确的身份证号码！居民身份证号码为15或18位",!1;if(t=/^[0-9]+[xX]{0,1}$/,!t.test(e))return this.showAlert=!0,this.alertText="请输入正确的身份证号码！18位居民身份证号码应由数字或X构成",!1;e=e.replace("x","X")}return this.showAlert=!1,this.alertText="",!0},getQueryName:function(e,t){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=t.match(i);return null!=n?unescape(n[2]):null}}}},508:function(e,t,i){(function(e){/**
 * UUID.core.js - UUID.js for Minimalists
 *
 * @file
 * @author  LiosK
 * @version v3.5.3
 * @license The MIT License: Copyright (c) 2010-2017 LiosK.
 */
var t;t=function(t){"use strict";function i(){}return i.generate=function(){var e=i._getRandomInt,t=i._hexAligner;return t(e(32),8)+"-"+t(e(16),4)+"-"+t(16384|e(12),4)+"-"+t(32768|e(14),4)+"-"+t(e(48),12)},i._getRandomInt=function(e){if(e<0||e>53)return NaN;var t=0|1073741824*Math.random();return e>30?t+1073741824*(0|Math.random()*(1<<e-30)):t>>>30-e},i._hexAligner=function(e,t){for(var i=e.toString(16),n=t-i.length,r="0";n>0;n>>>=1,r+=r)1&n&&(i=r+i);return i},i.overwrittenUUID=t,void 0!==e&&e&&e.exports&&(e.exports=i),i}(t)}).call(t,i(635)(e))},509:function(e,t,i){e.exports={default:i(512),__esModule:!0}},510:function(e,t,i){e.exports={default:i(513),__esModule:!0}},511:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(510),o=n(r),a=i(509),s=n(a),c="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===c(o.default)?function(e){return void 0===e?"undefined":c(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":c(e)}},512:function(e,t,i){i(520),i(188),i(521),i(522),e.exports=i(16).Symbol},513:function(e,t,i){i(83),i(125),e.exports=i(466).f("iterator")},514:function(e,t,i){var n=i(80),r=i(180),o=i(178);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var a,s=i(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},515:function(e,t,i){var n=i(63);e.exports=Array.isArray||function(e){return"Array"==n(e)}},516:function(e,t,i){var n=i(80),r=i(79);e.exports=function(e,t){for(var i,o=r(e),a=n(o),s=a.length,c=0;s>c;)if(o[i=a[c++]]===t)return i}},517:function(e,t,i){var n=i(122)("meta"),r=i(64),o=i(60),a=i(46).f,s=0,c=Object.isExtensible||function(){return!0},l=!i(61)(function(){return c(Object.preventExtensions({}))}),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[n].i},d=function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[n].w},m=function(e){return l&&v.NEED&&c(e)&&!o(e,n)&&u(e),e},v=e.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:m}},518:function(e,t,i){var n=i(178),r=i(81),o=i(79),a=i(181),s=i(60),c=i(184),l=Object.getOwnPropertyDescriptor;t.f=i(47)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},519:function(e,t,i){var n=i(79),r=i(474).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):r(n(e))}},520:function(e,t,i){"use strict";var n=i(23),r=i(60),o=i(47),a=i(48),s=i(187),c=i(517).KEY,l=i(61),u=i(124),f=i(82),d=i(122),m=i(19),v=i(466),p=i(465),h=i(516),g=i(514),y=i(515),_=i(34),b=i(79),w=i(181),C=i(81),x=i(185),N=i(519),A=i(518),S=i(46),k=i(80),O=A.f,j=S.f,P=N.f,I=n.Symbol,T=n.JSON,E=T&&T.stringify,F="prototype",D=m("_hidden"),U=m("toPrimitive"),M={}.propertyIsEnumerable,$=u("symbol-registry"),R=u("symbols"),J=u("op-symbols"),L=Object[F],Q="function"==typeof I,B=n.QObject,K=!B||!B[F]||!B[F].findChild,W=o&&l(function(){return 7!=x(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=O(L,t);n&&delete L[t],j(e,t,i),n&&e!==L&&j(L,t,n)}:j,X=function(e){var t=R[e]=x(I[F]);return t._k=e,t},z=Q&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},H=function(e,t,i){return e===L&&H(J,t,i),_(e),t=w(t,!0),_(i),r(R,t)?(i.enumerable?(r(e,D)&&e[D][t]&&(e[D][t]=!1),i=x(i,{enumerable:C(0,!1)})):(r(e,D)||j(e,D,C(1,{})),e[D][t]=!0),W(e,t,i)):j(e,t,i)},Y=function(e,t){_(e);for(var i,n=g(t=b(t)),r=0,o=n.length;o>r;)H(e,i=n[r++],t[i]);return e},G=function(e,t){return void 0===t?x(e):Y(x(e),t)},q=function(e){var t=M.call(this,e=w(e,!0));return!(this===L&&r(R,e)&&!r(J,e))&&(!(t||!r(this,e)||!r(R,e)||r(this,D)&&this[D][e])||t)},V=function(e,t){if(e=b(e),t=w(t,!0),e!==L||!r(R,t)||r(J,t)){var i=O(e,t);return!i||!r(R,t)||r(e,D)&&e[D][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=P(b(e)),n=[],o=0;i.length>o;)r(R,t=i[o++])||t==D||t==c||n.push(t);return n},ee=function(e){for(var t,i=e===L,n=P(i?J:b(e)),o=[],a=0;n.length>a;)!r(R,t=n[a++])||i&&!r(L,t)||o.push(R[t]);return o};Q||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(i){this===L&&t.call(J,i),r(this,D)&&r(this[D],e)&&(this[D][e]=!1),W(this,e,C(1,i))};return o&&K&&W(L,e,{configurable:!0,set:t}),X(e)},s(I[F],"toString",function(){return this._k}),A.f=V,S.f=H,i(474).f=N.f=Z,i(178).f=q,i(180).f=ee,o&&!i(121)&&s(L,"propertyIsEnumerable",q,!0),v.f=function(e){return X(m(e))}),a(a.G+a.W+a.F*!Q,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)m(te[ie++]);for(var te=k(m.store),ie=0;te.length>ie;)p(te[ie++]);a(a.S+a.F*!Q,"Symbol",{for:function(e){return r($,e+="")?$[e]:$[e]=I(e)},keyFor:function(e){if(z(e))return h($,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){K=!0},useSimple:function(){K=!1}}),a(a.S+a.F*!Q,"Object",{create:G,defineProperty:H,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),T&&a(a.S+a.F*(!Q||l(function(){var e=I();return"[null]"!=E([e])||"{}"!=E({a:e})||"{}"!=E(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!z(e)){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return t=n[1],"function"==typeof t&&(i=t),!i&&y(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!z(t))return t}),n[1]=t,E.apply(T,n)}}}),I[F][U]||i(49)(I[F],U,I[F].valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},521:function(e,t,i){i(465)("asyncIterator")},522:function(e,t,i){i(465)("observable")},555:function(e,t){},633:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page_certificates",attrs:{id:"certificateNew"}},[i("div",{staticStyle:{position:"fixed",width:"100%",background:"#fff",height:"100%","z-index":"0"}}),e._v(" "),i("header",{staticClass:"certificates_common_header"},[i("a",{staticClass:"common_header_left_btn",attrs:{href:"javascript:;"}},[i("i",{staticClass:"icon iconfont icon_leftarrow",on:{click:e.goback}})]),e._v(" "),i("span",{staticClass:"header_tt"},[e._v("证件管理")]),e._v(" "),i("a",{staticClass:"common_header_right_btn",class:{saveDisabled:e.btnDisabled},attrs:{href:"javascript:;"},on:{click:e.saveInfo}},[e._v("保存")])]),e._v(" "),i("div",{staticClass:"certificates_content"},[e._m(0),e._v(" "),i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.userNameCloseActive,expression:"userNameCloseActive"}],staticClass:"item_control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"item_input",attrs:{type:"text",placeholder:"请输入收货人姓名需与身份信息一致",maxlength:"6",autocomplete:"off"},domProps:{value:e._s(e.userName)},on:{focus:function(t){e.userNameActive=!0},input:function(t){t.target.composing||(e.userName=t.target.value)}}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.userName&&e.userNameActive,expression:"userName && userNameActive"}],staticClass:"icon_clear show",on:{click:function(t){e.userName=""}}})]),e._v(" "),i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.idCardCloseActive,expression:"idCardCloseActive"}],staticClass:"item_control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.idCard,expression:"idCard"}],staticClass:"item_input",attrs:{type:"text",placeholder:"请输入15-18位身份证号码",maxlength:"18",autocomplete:"off"},domProps:{value:e._s(e.idCard)},on:{focus:function(t){e.idCardActive=!0},input:function(t){t.target.composing||(e.idCard=t.target.value)}}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.idCard&&e.idCardActive,expression:"idCard && idCardActive"}],staticClass:"icon_clear show",on:{click:function(t){e.idCard=""}}})]),e._v(" "),e.showAlert?i("div",{staticClass:"item_tips"},[i("p",[e._v(e._s(e.alertText))])]):e._e(),e._v(" "),i("div",{staticClass:"certificates_upload"},[i("div",{staticClass:"certificates_upload_title"},[e._v("身份证照片")]),e._v(" "),i("div",{staticClass:"certificates_upload_box"},[i("div",{staticClass:"img_upload"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.identityobverseimg,expression:"!identityobverseimg"}],staticClass:"img_camera pic_left"},[i("label",{attrs:{for:"identityobverseimg"}}),e._v(" "),i("input",{ref:"handleFile",attrs:{id:"identityobverseimg",accept:"image/*",type:"file"},on:{change:e.handleFile}})]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.identityobverseimg,expression:"identityobverseimg"}],staticClass:"img_pic"},[i("a",{staticClass:"del_btn",attrs:{href:"javascript:;"},on:{click:function(t){t.preventDefault(),e.identityobverseimg=""}}},[i("i",{staticClass:"icon iconfont icon_process"})]),e._v(" "),i("img",{attrs:{src:e.identityobverseimg,alt:""}})])]),e._v(" "),i("div",{staticClass:"img_upload"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.identityreverseimg,expression:"!identityreverseimg"}],staticClass:"img_camera pic_right"},[i("label",{attrs:{for:"identityreverseimg"}}),e._v(" "),i("input",{ref:"uploadFile",attrs:{id:"identityreverseimg",accept:"image/*",type:"file"},on:{change:e.handleFileChange}})]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.identityreverseimg,expression:"identityreverseimg"}],staticClass:"img_pic"},[i("a",{staticClass:"del_btn",attrs:{href:"javascript:;"},on:{click:function(t){e.identityreverseimg=""}}},[i("i",{staticClass:"icon iconfont icon_process"})]),e._v(" "),i("img",{attrs:{src:e.identityreverseimg,alt:""}})])])])])]),e._v(" "),i("div",{staticClass:"certificates_footer"},[i("button",{staticClass:"btn_default btn_red btn_block",attrs:{disabled:e.btnDisabled},on:{click:function(t){t.preventDefault(),e.saveInfo(t)}}},[e._v("确认保存")])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item_top"},[i("p",[e._v("海关要求，个人物品入境需提供第二代身份证正反面照片用于通关，个人信息严格保密不外泄，敬请放心。")])])}]}},635:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}});
//# sourceMappingURL=1.fee2b462d284a3f6cde2.js.map